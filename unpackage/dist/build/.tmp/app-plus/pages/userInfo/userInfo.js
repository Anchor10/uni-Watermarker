(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/userInfo/userInfo"],{"0127":function(e,n,t){"use strict";var o=function(){var e=this,n=e.$createElement,t=(e._self._c,e._f("sexName")(e.userInfo.sex));e.$mp.data=Object.assign({},{$root:{f0:t}})},s=[];t.d(n,"a",function(){return o}),t.d(n,"b",function(){return s})},"539c":function(e,n,t){"use strict";t.r(n);var o=t("0127"),s=t("bffc");for(var a in s)"default"!==a&&function(e){t.d(n,e,function(){return s[e]})}(a);t("e86f");var i=t("2877"),r=Object(i["a"])(s["default"],o["a"],o["b"],!1,null,null,null);n["default"]=r.exports},7127:function(e,n,t){},bffc:function(e,n,t){"use strict";t.r(n);var o=t("ce23"),s=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(n,e,function(){return o[e]})}(a);n["default"]=s.a},ce23:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(){return Promise.all([t.e("common/vendor"),t.e("components/w-picker/w-picker")]).then(t.bind(null,"1827"))},s={data:function(){return{userInfo:{},avatarUrl:"../../static/images/avater.png",token:""}},computed:{value:function(){var e=this.userInfo.birthday,n=[];return e&&(n=e.split("-"),n[0]=n[0]-1900,n[1]=n[1]-1,n[2]=n[2]-1),n}},filters:{sexName:function(e){return 1==e?"男":2==e?"女":"保密"}},onShow:function(){var n=e.getStorageSync("TOKEN");n?(this.token=n,this.getUserInfo()):(this.token="",this.userInfo={})},onLoad:function(n){var t=this;this.userInfo=JSON.parse(n.info),e.getStorage({key:"TOKEN",success:function(e){t.token=e.data}})},methods:{getUserInfo:function(){var e=this;this.$uniRequest(this.$baseUrl+"/v1/member/info",0,function(n){e.userInfo=n.data.data},!1)},changeAvatar:function(){e.chooseImage({count:1,sourceType:["album","camera"],sizeType:["compressed"],success:function(n){var t=n.tempFilePaths[0];e.redirectTo({url:"/pages/upload/upload?src="+t})}})},changeName:function(){e.navigateTo({url:"/pages/changeName/changeName?info="+JSON.stringify(this.userInfo)})},changeBirthday:function(){this.$refs.picker.show()},changeSign:function(){e.navigateTo({url:"/pages/changeSign/changeSign?info="+JSON.stringify(this.userInfo)})},changeSex:function(){var n=this;e.showActionSheet({itemList:["保密","男","女"],success:function(t){n.$uniRequest(n.$baseUrl+"/v1/member/edit",{birthday:n.userInfo.birthday,sex:t.tapIndex,nickname:n.userInfo.nickname},function(o){console.log(o," at pages\\userInfo\\userInfo.vue:139"),n.userInfo.sex=t.tapIndex,e.showToast({title:o.data.msg})},!1)},fail:function(n){e.showToast({title:"未修改成功,请重试",icon:"none"})}})},onConfirm:function(n){var t=this;this.$uniRequest(this.$baseUrl+"/v1/member/edit",{birthday:n.result,sex:this.userInfo.sex,nickname:this.userInfo.nickname},function(o){t.userInfo.birthday=n.result,e.showToast({title:o.data.msg})},!1)}},components:{wPicker:o}};n.default=s}).call(this,t("6e42")["default"])},e86f:function(e,n,t){"use strict";var o=t("7127"),s=t.n(o);s.a}},[["78c4","common/runtime","common/vendor"]]]);